

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>kerchunk &mdash; kerchunk  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=7ab3649f" />

  
    <link rel="shortcut icon" href="_static/kerchunk.ico"/>
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Quick Start" href="test_example.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            kerchunk
              <img src="_static/kerchunk.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="test_example.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="detail.html">Detailed description</a></li>
<li class="toctree-l1"><a class="reference internal" href="cases.html">Case studies</a></li>
<li class="toctree-l1"><a class="reference internal" href="spec.html">References specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="beyond.html">Beyond Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="nonzarr.html">Non-zarr uses</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference_aggregation.html">Aggregation special cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to kerchunk</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced Topics</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">kerchunk</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">kerchunk</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="kerchunk">
<h1>kerchunk<a class="headerlink" href="#kerchunk" title="Link to this heading"></a></h1>
<p>Kerchunk is a library that provides a unified way to represent a variety of chunked, compressed data formats
(e.g. NetCDF/HDF5, GRIB2, TIFF, …),
allowing efficient access to the data from traditional file systems or cloud object storage.
It also provides a flexible way to create
virtual datasets from multiple files.  It does this by extracting the byte ranges,
compression information and other information about the
data and storing this metadata in a new, separate object.  This means that you can
create a virtual aggregate dataset over potentially many source
files, for efficient, parallel and cloud-friendly <em>in-situ</em> access without having to copy or
translate the originals. It is a gateway to in-the-cloud massive data processing while
the data providers still insist on using legacy formats for archival storage.</p>
<p><em>Why Kerchunk</em>:</p>
<p>We provide the following things:</p>
<ul class="simple">
<li><p>completely serverless architecture</p></li>
<li><p>metadata consolidation, so you can understand a many-file dataset (metadata plus physical storage) in a single read</p></li>
<li><p>read from all of the storage backends supported by fsspec, including object storage (s3, gcs, abfs, alibaba), http,
cloud user storage (dropbox, gdrive) and network protocols (ftp, ssh, hdfs, smb…)</p></li>
<li><p>loading of various file types (currently netcdf4/HDF, grib2, tiff, fits, zarr), potentially heterogeneous within a
single dataset, without a need to go via the specific driver (e.g., no need for h5py)</p></li>
<li><p>asynchronous concurrent fetch of many data chunks in one go, amortizing the cost of latency</p></li>
<li><p>parallel access with a library like zarr without any locks</p></li>
<li><p>logical datasets viewing many (&gt;~millions) data files, and direct access/subselection to them via coordinate
indexing across an arbitrary number of dimensions</p></li>
</ul>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading"></a></h2>
<p>This library was created to solve the problem of reading existing scientific datatypes as efficiently as possible in the cloud. The amount of observed and simulated data
is now too large to be handled effectively via download and local processing.  In the cloud era, the answer is to move compute to the data in the Cloud, process in
parallel, and access the data <em>in situ</em>, and only as much as needed to solve a problem or use case.</p>
<p>Datasets are stored in many different file formats, and often as collections of files.
Many of these formats are designed for on-premises filesystems and are hard or inefficient
to use seamlessly in the cloud.</p>
<p>For binary storage of array data, essentially all formats involve taking blocks of in-memory
C buffers and encoding/compressing them to disc, with some additional metadata describing
the details of that buffer plus any other attributes. This description can be applied to a
very wide variety of data formats.</p>
<p>The primary purpose of <code class="docutils literal notranslate"><span class="pre">kerchunk</span></code> is to find where these binary blocks are, and how to decode them,
so that blocks from one or more files can be arranged into aggregate datasets accessed via the
<a class="reference external" href="https://zarr.readthedocs.io/en/stable/">zarr</a> library and the power of <a class="reference external" href="https://filesystem-spec.readthedocs.io/en/latest/">fsspec</a>. To understand how this works, please read
<a class="reference internal" href="detail.html"><span class="doc">Detailed description</span></a>. Or consider the PyData talk: <a class="reference external" href="https://www.youtube.com/watch?v=0bqpxX3Nn_A">All You Need Is Zarr</a>.</p>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="test_example.html">Quick Start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="test_example.html#single-file-jsons">Single file JSONs</a></li>
<li class="toctree-l2"><a class="reference internal" href="test_example.html#multi-file-jsons">Multi-file JSONs</a></li>
<li class="toctree-l2"><a class="reference internal" href="test_example.html#using-the-output">Using the output</a></li>
<li class="toctree-l2"><a class="reference internal" href="test_example.html#example-tutorial-notebook">Example/Tutorial Notebook</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#single-file-jsons">Single file JSONs</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#combine-multiple-kerchunked-datasets-into-a-single-logical-aggregate-dataset">Combine multiple kerchunked datasets into a single logical aggregate dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#using-the-output">Using the output</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="detail.html">Detailed description</a><ul>
<li class="toctree-l2"><a class="reference internal" href="detail.html#binary-buffers">Binary buffers</a></li>
<li class="toctree-l2"><a class="reference internal" href="detail.html#fsspec-virtual-filesystem"><code class="docutils literal notranslate"><span class="pre">fsspec</span></code> virtual filesystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="detail.html#zarr-reader"><code class="docutils literal notranslate"><span class="pre">zarr</span></code> reader</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cases.html">Case studies</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cases.html#sentinel-global-coherence">Sentinel Global coherence</a></li>
<li class="toctree-l2"><a class="reference internal" href="cases.html#solar-dynamics-observatory">Solar Dynamics Observatory</a></li>
<li class="toctree-l2"><a class="reference internal" href="cases.html#national-water-model">National Water Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="cases.html#mur-sst">MUR SST</a></li>
<li class="toctree-l2"><a class="reference internal" href="cases.html#hrrr">HRRR</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="spec.html">References specification</a><ul>
<li class="toctree-l2"><a class="reference internal" href="spec.html#version-0">Version 0</a></li>
<li class="toctree-l2"><a class="reference internal" href="spec.html#version-1">Version 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="spec.html#parquet-references">Parquet references</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="beyond.html">Beyond Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="nonzarr.html">Non-zarr uses</a><ul>
<li class="toctree-l2"><a class="reference internal" href="nonzarr.html#tar-zstd">.tar.zstd</a></li>
<li class="toctree-l2"><a class="reference internal" href="nonzarr.html#csv-json">.csv/.json</a></li>
<li class="toctree-l2"><a class="reference internal" href="nonzarr.html#parquet-orc-feather">parquet/orc/feather</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="reference.html#file-format-backends">File format backends</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#codecs">Codecs</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#combining">Combining</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#utilities">Utilities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reference_aggregation.html">Aggregation special cases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="reference_aggregation.html#grib-aggregations">GRIB Aggregations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to kerchunk</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#bug-reports-and-feature-requests">Bug reports and feature requests</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#contributing-code">Contributing code</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#contributing-documentation">Contributing documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#contributing-changes">Contributing changes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced Topics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="advanced.html#using-dask">Using Dask</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced.html#archive-files">Archive Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced.html#parquet-storage">Parquet Storage</a></li>
</ul>
</li>
</ul>
</div>
</section>
</section>
<section id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
<script data-goatcounter="https://kerchunk.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script></section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="test_example.html" class="btn btn-neutral float-right" title="Quick Start" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Martin Durant.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>